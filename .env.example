# =============================================================================
# SpaceForge — Environment Configuration
#
# SETUP: cp .env.example .env  then fill in every value marked REQUIRED.
#
# Convention:
#   REQUIRED   — no default; app will refuse to start if unset
#   RECOMMENDED — has a safe default but you should change it in production
#   OPTIONAL   — default is production-safe; only change if you need to
# =============================================================================


# -----------------------------------------------------------------------------
# App
# -----------------------------------------------------------------------------

# [OPTIONAL] Human-readable API name (shown in OpenAPI docs)
APP_NAME=SpaceForge API

# [OPTIONAL] API version string
APP_VERSION=1.0.0

# [REQUIRED] Full public URL of the backend — used in asset URLs returned by
# the API (render images, model files, uploaded photos).
# Local dev:  http://localhost:8000
# With ngrok: https://your-slug.ngrok-free.app
BACKEND_PUBLIC_URL=http://localhost:8000

# [OPTIONAL] Internal port uvicorn binds to inside the container.
PORT=8000

# [OPTIONAL] Port exposed by the frontend container.
FRONTEND_PORT=4173


# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------

# [OPTIONAL] Enable debug mode — enables /docs, /redoc, verbose logging.
# NEVER set to true in production.
DEBUG=false

# [OPTIONAL] Log level for the backend.
# Values: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# [RECOMMENDED] Secret key for signing internal tokens.
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-me-in-production

# [RECOMMENDED] Comma-separated allowed CORS origins.
# Use "*" only in local dev. In production set to your exact frontend URL.
# Example: https://app.mycompany.com,https://staging.mycompany.com
ALLOWED_ORIGINS=*


# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# [REQUIRED] SQLAlchemy async DSN.
# Local dev (no Docker):        sqlite+aiosqlite:///./spaceforge.db
# NOTE: docker-compose.yml overrides this to the absolute volume path automatically.
#       You only need to change this if you switch to PostgreSQL.
# PostgreSQL (TODO: PRODUCTION): postgresql+asyncpg://user:pass@host/dbname
DATABASE_URL=sqlite+aiosqlite:///./spaceforge.db


# -----------------------------------------------------------------------------
# Storage
# -----------------------------------------------------------------------------

# [OPTIONAL] Root directory for static assets served at /static
STATIC_DIR=app/static

# [OPTIONAL] Sub-directories under STATIC_DIR
RENDERS_SUBDIR=renders
MODELS_SUBDIR=models
UPLOADS_SUBDIR=uploads

# [OPTIONAL] Max upload size in megabytes
UPLOAD_MAX_MB=10


# -----------------------------------------------------------------------------
# AI Provider
# -----------------------------------------------------------------------------

# [OPTIONAL] Which AI provider to use.
# Values: fake | groq
# • fake — zero API keys needed, instant demo responses
# • groq — real LLaMA-3.3 + vision via Groq (free tier, very fast)
AI_PROVIDER=fake

# [REQUIRED if AI_PROVIDER=groq] Groq API key — free at https://console.groq.com/keys
# Never commit a real key — put only in .env, never .env.example
GROQ_API_KEY=gsk_YOUR_KEY_HERE

# [OPTIONAL] Groq text model — used for design generation + procurement
GROQ_MODEL=llama-3.3-70b-versatile

# [OPTIONAL] Groq vision model — used for room image analysis
GROQ_VISION_MODEL=llama-3.2-90b-vision-preview


# -----------------------------------------------------------------------------
# ngrok  (only needed when running: docker compose --profile ngrok up)
# -----------------------------------------------------------------------------

# [REQUIRED for ngrok profile] Your ngrok auth token.
# Get it at: https://dashboard.ngrok.com/get-started/your-authtoken
NGROK_AUTHTOKEN=

# [REQUIRED for ngrok profile] Your reserved static domain.
# Free tier provides one: https://dashboard.ngrok.com/cloud-edge/domains
NGROK_DOMAIN=

